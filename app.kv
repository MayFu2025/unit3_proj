ScreenManager:
        id: scr_manager
        # Application Startup
        StartupScreen:
                name: "Startup"
        HomeScreen:
                name: "Home"
        EmployeeManager:
                name: "Employees"
        InventoryManager:
                name: "Inventory"
        OrderManager:
                name: "Orders"
        NewOrder:
                name: "NewOrder"
        OrderDetails:
                name: "OrderDetails"
        FinanceManager:
                name: "Finance"

<StartupScreen>:
        MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1

                MDLabel:
                        text: "Welcome back!"
                        halign: "center"
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDTextField:
                        id: firstname
                        hint_text: 'Enter first name'
                        icon_left: 'account'
                        size_hint_x: 0.7
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDTextField:
                        id: lastname
                        hint_text: 'Enter last name'
                        icon_left: 'account'
                        size_hint_x: 0.7
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDTextField:
                        id: pword
                        hint_text: 'Enter password'
                        icon_left: 'key'
                        size_hint_x: 0.7
                        pos_hint: {"center_x": .5, "center_y": .5}
                        password: True

                MDRaisedButton:
                        text: "Login"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        on_press: root.try_login()

<Navigation>:
        type: "labeled"
        md_bg_color: '#dedede'
        anchor: "center"

        MDNavigationRailItem:
                id: placeholder
                icon: "headphones-box"

        MDNavigationRailItem:
                id: NavHome
                text: "Home"
                icon: "home"
                on_release: root.parent.parent.parent.current= "Home"

        MDNavigationRailItem:
                id: NavEmployees
                text: "Employees"
                icon: "account-group"
                on_release: root.parent.parent.parent.current= "Employees"
        MDNavigationRailItem:
                id: NavInventory
                text: "Inventory"
                icon: "package-variant"
                on_release: root.parent.parent.parent.current= "Inventory"
        MDNavigationRailItem:
                id: NavOrders
                text: "Orders"
                icon: "view-list"
                on_release: root.parent.parent.parent.current= "Orders"
        MDNavigationRailItem:
                id: NavFinance
                text: "Finance"
                icon: "currency-usd"
                on_release: root.parent.parent.parent.current= "Finance"
        MDNavigationRailItem:
                text: "Log out"
                icon: "logout"
                on_release: root.logout()

<HomeScreen>:
        BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1

                Navigation:
                        size_hint: 0.1, 1

                MDBoxLayout:
                        size_hint: 0.9, 1
                        orientation: 'vertical'
                        md_bg_color: 'white'
                        padding: 50

                        MDBanner: #LMAO HOW DO I SHOW THIS BANNER, BUT WANT TO MAKE IT SO THIS BANNER ONLY SHOWS WHEN THERE'S NEW INFO/UNDONE TASKS
                                id: alert_banner
                                type: "two-line-icon"
                                icon: "alert-circle"
                                text: ["Updates", "THIS IS WHERE ALL THE UPDATES SINCE LAST LOGIN SHOULD GO, SO BASICALLY WE NEED A DONE OR NOT DONE FLAG FOR THE THINGS IN DATABASE"]
                                left_action: ["OK", lambda x: None]

                        MDLabel:
                                text: "This is Producer Home"
                                halign: "center"
                                font_style: "H3"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                size_hint: 1, 0.3

                        MDBoxLayout:
                                size_hint: 1, 0.7
                                orientation: 'horizontal'
                                md_bg_color: 'white'
                                padding: 50

                                MDLabel:
                                        text: "This is where the producer's home screen will be"
                                        halign: "center"
                                        font_style: "H6"
                                        pos_hint: {"center_x": .5, "center_y": .5}
                                        size_hint: 1, 0.3

<EmployeeManager>: #Preferably make with classes for the little boxes
        BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1

                Navigation:
                        size_hint: 0.1, 1

                MDBoxLayout:
                        size_hint: 1, 1
                        orientation: 'horizontal'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        padding: 50

                        MDBoxLayout:
                                id: placeholder
                                size_hint: 0.7, 1

                                MDLabel:
                                        text: "Employee Manager"
                                        padding: 20
                                        pos_hint: {'center_x': 0.1, 'center_y': 0.95}
                                        halign: "left"
                                        font_style: "H3"
                                        size_hint: 1, 0.15

                        MDBoxLayout:
                                size_hint: 0.3, 1
                                orientation: 'vertical'
                                md_bg_color: 'gray'
                                padding: 10

                                MDLabel:
                                        size_hint: (1, 0.1)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: 'Sort list'
                                        font_style: "H6"

                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "by First Name"
                                        on_press: root.update("first_name")
                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "by Last Name"
                                        on_press: root.update("last_name")
                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "by Admin Status"
                                        on_press: root.update("is_admin desc")
                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "by ID"
                                        on_press: root.update()

                                MDLabel:
                                        size_hint: (1, 0.1)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: 'Edit Selection'
                                        font_style: "H6"
                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "Change Admin Status"
                                        on_press: root.edit_admin()
                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "Delete User"
                                        on_press: root.delete_user()

                                MDLabel:
                                        size_hint: (1, 0.1)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: 'Add New Employee'
                                        font_style: "H6"


                                MDTextField:
                                        id: new_firstname
                                        icon_left: 'account'
                                        size_hint: (0.8, 0.08)
                                        size_hint_x: 0.9
                                        pos_hint: {"center_x": .5, "center_y": .5}
                                MDTextField:
                                        id: new_lastname
                                        icon_left: 'account'
                                        size_hint: (0.8, 0.08)
                                        size_hint_x: 0.9
                                        pos_hint: {"center_x": .5, "center_y": .5}
                                MDTextField:
                                        id: new_password
                                        icon_left: 'key'
                                        size_hint: (0.8, 0.08)
                                        size_hint_x: 0.9
                                        pos_hint: {"center_x": .5, "center_y": .5}
                                        password: True
                                MDBoxLayout:
                                        size_hint: 0.9, 0.1
                                        orientation: 'horizontal'
                                        MDCheckbox:
                                                id: new_admin
                                                size_hint: (0.25, 1)
                                                pos_hint: {'center_x': .5, 'center_y': .5}
                                                on_active: root.admin_status_checkbox(*args)
                                        MDLabel:
                                                size_hint: (0.75, 1)
                                                text: "Give Admin Status"
                                MDRaisedButton:
                                        size_hint: (0.9, 0.05)
                                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                                        text: "Create account"
                                        on_press: root.try_create()


<InventoryManager>:
        BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1

                Navigation:
                        size_hint: 0.1, 1

                MDBoxLayout:
                        size_hint: 0.9, 1
                        orientation: 'vertical'
                        spacing: 20
                        padding: 50

                        MDLabel:  #I want padding for the bottom of the cards
                                text: "Inventory Manager"
                                font_style: "H3"
                                halign: "left"
                                pos_hint: {'center_x': 0.51, 'center_y': 1}
                                size_hint: 1, 0.1

                        MDBoxLayout:
                                size_hint: 1, 0.9
                                orientation: 'horizontal'
                                spacing: 20
                                pos_hint: {'center_x':0.5, 'center_y':0.5}

                                MDBoxLayout:
                                        size_hint: 0.3, 1
                                        orientation: 'vertical'
                                        spacing: 20

                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/wood.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("wood")

                                                        MDLabel:
                                                                text: "Wood"
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                font_size: 50
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/silicone.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("silicone")

                                                        MDLabel:
                                                                text: "Silicone"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/copper.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("copper")

                                                        MDLabel:
                                                                text: "Copper"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True

                                MDBoxLayout:
                                        size_hint: 0.3, 1
                                        orientation: 'vertical'
                                        spacing: 20

                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/carbon.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("carbon")

                                                        MDLabel:
                                                                text: "Carbon"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/foam.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("foam")

                                                        MDLabel:
                                                                text: "Foam"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/cobalt.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("cobalt")

                                                        MDLabel:
                                                                text: "Cobalt"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True

                                MDBoxLayout:
                                        size_hint: 0.3, 1
                                        orientation: 'vertical'
                                        spacing: 20

                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/aluminium.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("aluminium")

                                                        MDLabel:
                                                                text: "Aluminium"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/leather.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("leather")

                                                        MDLabel:
                                                                text: "Leather"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
                                        MDCard:
                                                MDRelativeLayout:
                                                        FitImage:
                                                                source: "assets/lithium.png"
                                                                pos_hint: {"top": 1}
                                                                radius: (dp(16), dp(16), dp(16), dp(16))

                                                        MDIconButton:
                                                                icon: "plus"
                                                                pos_hint: {"top": 0.98, "right": 0.98}
                                                                md_bg_color: "white"
                                                                icon_size: 70
                                                                on_press: root.purchase_popup("lithium")

                                                        MDLabel:
                                                                text: "Lithium"
                                                                font_size: 50
                                                                theme_text_color: "Custom"
                                                                text_color: "white"
                                                                adaptive_size: True
                                                                pos: "15dp", "15dp"
                                                                bold: True
<PurchaseDialog>:
        orientation: 'vertical'
        size_hint_y: None
        height: "100dp"
        spacing: 20

        MDTextField:
                id: amount
                hint_text: "Enter number between 0~100"
                input_filter: 'int'
                on_text:
                        self.text = str(max(0, min(100, int(self.text or 0))))
                        root.update_amount_text()
        MDLabel:
                id: total_cost
                text: "Total cost: $0"


<OrderManager>:
        BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1

                Navigation:
                        size_hint: 0.1, 1

                MDBoxLayout:
                        size_hint: 0.9, 1
                        orientation: 'vertical'
                        md_bg_color: 'white'
                        padding: 50

                        MDLabel:  #I want padding for the bottom of the cards
                                text: "Orders Manager"
                                font_style: "H3"
                                halign: "left"
                                pos_hint: {'center_x': 0.51, 'center_y': 1}
                                size_hint: 1, 0.1

                        MDBoxLayout:
                                size_hint: 1, 0.1
                                orientation: 'horizontal'


                                MDTextField:
                                        id: searchbar
                                        hint_text: "search"
                                        icon_right: "magnify"
                                        size_hint: 0.5, 1
                                        valign: 'right'
                                MDLabel:
                                        id: placeholder
                                        size_hint: 0.4, 1
                                MDIconButton:
                                        id: show_completed
                                        icon: 'eye-check'
                                MDIconButton:
                                        id: reverse_by_id
                                        icon: 'sort-descending'

                        MDScrollView:
                                id: orders_container
                                orientation: 'vertical'
                                size_hint_y: None
                                size_hint: 1, 0.75
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDFloatingActionButton:
                                id: new_order
                                icon: 'plus'
                                icon_size: 150
                                size_hint: 0.1, 0.12
                                pos_hint: {'right':0.95, 'bottom':0.9}
                                on_press: root.manager.current= "NewOrder"

<OrderDetails>:
        MDLabel:
                text: "Order Details Screen"

<NewOrder>:
        BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1

                Navigation:
                        size_hint: 0.1, 1

                MDBoxLayout:
                        size_hint: 0.9, 1
                        orientation: 'vertical'
                        spacing: 20
                        padding: 50

                        MDLabel:
                                text: "Create New Order"
                                font_style: "H3"
                                halign: "left"
                                pos_hint: {'center_x': 0.51, 'center_y': 1}
                                size_hint: 1, 0.1

                        MDBoxLayout:
                                orientation: 'horizontal'
                                size_hint: 1, 0.9

                                MDBoxLayout: #left side for selection
                                        orientation: 'vertical'
                                        size_hint: 0.75, 1

                                        MDLabel:  # Base uses 3 units of material
                                                text: "Select the base of the headphones:"
                                                font_style: "H5"
                                                size_hint: 1, 0.15
                                        MDBoxLayout:
                                                orientation: 'horizontal'
                                                spacing: 10
                                                size_hint: 1, 0.1
                                                MDChip:
                                                        text: "Aluminium"
                                                        icon_left: "landslide"
                                                MDChip:
                                                        text: "Carbon"
                                                        icon_left: "texture-box"
                                                MDChip:
                                                        text: "Wood"
                                                        icon_left: "pine-tree-variant"

                                        MDLabel: # Padding uses 2 units of material
                                                text: "Select the padding of the headphones:"
                                                font_style: "H5"
                                                size_hint: 1, 0.15
                                        MDBoxLayout:
                                                orientation: 'horizontal'
                                                spacing: 10
                                                size_hint: 1, 0.1
                                                MDChip:
                                                        text: "Foam"
                                                        icon_left: "spray"
                                                MDChip:
                                                        text: "Silicone"
                                                        icon_left: "water-check"
                                                MDChip:
                                                        text: "Leather"
                                                        icon_left: "bluetooth"

                                        MDLabel:  #Quality changes the amount of metals
                                                text: "Select the quality of the speakers:"
                                                size_hint: 1, 0.15
                                                font_style: "H5"
                                        MDBoxLayout:
                                                orientation: 'horizontal'
                                                spacing: 10
                                                size_hint: 1, 0.1
                                                MDChip:
                                                        text: "Standard"
                                                        icon_left: "emoticon-happy"
                                                MDChip:
                                                        text: "Gaming"
                                                        icon_left: "controller"
                                                MDChip:
                                                        text: "Bass Boosted"
                                                        icon_left: "guitar-electric"
                                                MDChip:
                                                        text: "Audiophile"
                                                        icon_left: "creation-outline"

                                        MDLabel: # Each just adds a specific price on top
                                                text: "Extra options:"
                                                font_style: "H5"
                                                size_hint: 1, 0.15
                                        MDBoxLayout:
                                                orientation: 'horizontal'
                                                spacing: 10
                                                size_hint: 1, 0.1
                                                MDChip:
                                                        size_hint: 0.2, 1
                                                        text: "Coating"
                                                        icon_left: "spray"
                                                MDChip:
                                                        size_hint: 0.2, 1
                                                        text: "Water-proof"
                                                        icon_left: "water-check"
                                                MDChip:
                                                        size_hint: 0.2, 1
                                                        text: "Bluetooth 5.0"
                                                        icon_left: "bluetooth"
                                MDBoxLayout:
                                        orientation: 'vertical'
                                        size_hint: 0.25, 1
                                        MDLabel:
                                                text: "test"

#        BackButton: # This doesn't work because I think it tries to create the widget again
#                on_press: root.manager.current = "Orders"


<FinanceManager>:
        BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1

                Navigation:
                        size_hint: 0.1, 1

                MDBoxLayout:
                        size_hint: 0.9, 1
                        orientation: 'vertical'
                        md_bg_color: 'white'
                        padding: 50

                        MDLabel:
                                text: "This is Finance"
                                halign: "center"
                                font_style: "H3"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                size_hint: 1, 0.3

<BackButton>:
        icon: "arrow-left"
        text: "Back"